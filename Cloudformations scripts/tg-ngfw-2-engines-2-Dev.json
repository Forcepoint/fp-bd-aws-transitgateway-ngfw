{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Parameters": {
        "UserData": {
            "Default": "{\"smc-contact\": {\"address\": \"\", \"port\": 8082, \"apikey\": \"\", \"tls\": true, \"check_certificate\": false}, \"location\": \"cloud\", \"auto-delete\": false, \"type\": \"single-firewall\"}",
            "Type": "String"
        },
        "BucketName": {
            "AllowedPattern": "^[0-9a-zA-Z]+([0-9a-zA-Z-]*[0-9a-zA-Z])*$",
            "Default": "bd-smc-lambda-bucket",
            "Type": "String"
        },
        "KeyPrefix": {
            "AllowedPattern": "^[0-9a-zA-Z-/]*$",
            "Default": "Lambda-Functions/",
            "Type": "String"
        }
    },
    "Resources": {
        "LambdaZipsBucket": {
            "Type": "AWS::S3::Bucket",
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c00ff796-53ab-4b23-90c2-9be1cc5f9b46"
                }
            }
        },
        "CopyZips": {
            "Type": "Custom::CopyZips",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "CopyZipsFunction",
                        "Arn"
                    ]
                },
                "DestBucket": {
                    "Ref": "LambdaZipsBucket"
                },
                "SourceBucket": {
                    "Ref": "BucketName"
                },
                "Prefix": {
                    "Ref": "KeyPrefix"
                },
                "Objects": [
                    "config-smc/myDeploymentPackage.zip"
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "2e51dfad-3c0c-4bf0-b328-beec2308b9bc"
                }
            }
        },
        "CopyZipsRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            },
                            "Action": "sts:AssumeRole"
                        }
                    ]
                },
                "ManagedPolicyArns": [
                    "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                ],
                "Path": "/",
                "Policies": [
                    {
                        "PolicyName": "lambda-copier",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Effect": "Allow",
                                    "Action": [
                                        "s3:GetObject"
                                    ],
                                    "Resource": [
                                        {
                                            "Fn::Sub": "arn:aws:s3:::${BucketName}/${KeyPrefix}*"
                                        }
                                    ]
                                },
                                {
                                    "Effect": "Allow",
                                    "Action": [
                                        "s3:PutObject",
                                        "s3:DeleteObject"
                                    ],
                                    "Resource": [
                                        {
                                            "Fn::Sub": "arn:aws:s3:::${LambdaZipsBucket}/${KeyPrefix}*"
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c70d25f9-ca91-441a-9d3e-a15b87024362"
                }
            }
        },
        "CopyZipsFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Description": "Copies objects from a source S3 bucket to a destination",
                "Handler": "index.handler",
                "Runtime": "python2.7",
                "Role": {
                    "Fn::GetAtt": [
                        "CopyZipsRole",
                        "Arn"
                    ]
                },
                "Timeout": 240,
                "Code": {
                    "ZipFile": "import json\nimport logging\nimport threading\nimport boto3\nimport cfnresponse\ndef copy_objects(source_bucket, dest_bucket, prefix, objects):\n    s3 = boto3.client('s3')\n    for o in objects:\n        key = prefix + o\n        copy_source = {\n            'Bucket': source_bucket,\n            'Key': key\n        }\n        print('copy_source: %s' % copy_source)\n        print('dest_bucket = %s'%dest_bucket)\n        print('key = %s' %key)\n        s3.copy_object(CopySource=copy_source, Bucket=dest_bucket,\n              Key=key)\ndef delete_objects(bucket, prefix, objects):\n    s3 = boto3.client('s3')\n    objects = {'Objects': [{'Key': prefix + o} for o in objects]}\n    s3.delete_objects(Bucket=bucket, Delete=objects)\ndef timeout(event, context):\n    logging.error('Execution is about to time out, sending failure response to CloudFormation')\n    cfnresponse.send(event, context, cfnresponse.FAILED, {}, None)\ndef handler(event, context):\n    # make sure we send a failure to CloudFormation if the function\n    # is going to timeout\n    timer = threading.Timer((context.get_remaining_time_in_millis()\n              / 1000.00) - 0.5, timeout, args=[event, context])\n    timer.start()\n    print('Received event: %s' % json.dumps(event))\n    status = cfnresponse.SUCCESS\n    try:\n        source_bucket = event['ResourceProperties']['SourceBucket']\n        dest_bucket = event['ResourceProperties']['DestBucket']\n        prefix = event['ResourceProperties']['Prefix']\n        objects = event['ResourceProperties']['Objects']\n        if event['RequestType'] == 'Delete':\n            delete_objects(dest_bucket, prefix, objects)\n        else:\n            copy_objects(source_bucket, dest_bucket, prefix, objects)\n    except Exception as e:\n        logging.error('Exception: %s' % e, exc_info=True)\n        status = cfnresponse.FAILED\n    finally:\n        timer.cancel()\n        cfnresponse.send(event, context, status, {}, None)\n"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "91a284cd-21c6-4c8a-8276-b7f60fe508ee"
                }
            }
        },
        "MyFunctionRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            },
                            "Action": "sts:AssumeRole"
                        }
                    ]
                },
                "ManagedPolicyArns": [
                    "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                    "arn:aws:iam::aws:policy/AmazonEC2FullAccess"
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "cc93df03-27dd-4198-bcaf-c475e01ee45f"
                }
            }
        },
        "SMCConfig": {
            "DependsOn": [
                "CopyZips",
                "EC2EIPARI00",
                "AssociateInstance0"
            ],
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Description": "Smc Configuration",
                "Environment": {
                    "Variables": {
                        "engine_name": {
                            "Fn::Join": [
                                ",",
                                [
                                    {
                                        "Ref": "instancei026bf72101fd25f4c"
                                    },
                                    {
                                        "Ref": "instancei0315f9a2149c22655"
                                    }
                                ]
                            ]
                        },
                        "private_ip": {
                            "Fn::Join": [
                                ",",
                                [
                                    {
                                        "Fn::GetAtt": [
                                            "instancei026bf72101fd25f4c",
                                            "PrivateIp"
                                        ]
                                    },
                                    {
                                        "Fn::GetAtt": [
                                            "instancei0315f9a2149c22655",
                                            "PrivateIp"
                                        ]
                                    }
                                ]
                            ]
                        },
                        "public_ip": {
                            "Fn::Join": [
                                ",",
                                [
                                    {
                                        "Fn::GetAtt": [
                                            "instancei026bf72101fd25f4c",
                                            "PublicIp"
                                        ]
                                    },
                                    {
                                        "Fn::GetAtt": [
                                            "instancei0315f9a2149c22655",
                                            "PublicIp"
                                        ]
                                    }
                                ]
                            ]
                        }
                    }
                },
                "Handler": "lambda_function.lambda_handler",
                "Runtime": "python3.8",
                "Role": {
                    "Fn::GetAtt": [
                        "MyFunctionRole",
                        "Arn"
                    ]
                },
                "Timeout": 600,
                "Code": {
                    "S3Bucket": {
                        "Ref": "LambdaZipsBucket"
                    },
                    "S3Key": {
                        "Fn::Sub": "${KeyPrefix}config-smc/myDeploymentPackage.zip"
                    }
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "70bdbf61-df10-4c76-893a-c33be8559753"
                }
            }
        },
        "Primerinvoke": {
            "Type": "AWS::CloudFormation::CustomResource",
            "DependsOn": "SMCConfig",
            "Version": "1.0",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "SMCConfig",
                        "Arn"
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f5bb0eab-0e66-44c9-8e73-653291dfada0"
                }
            }
        },
        "vpc08db5c728fa03a2b2": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": "10.11.0.0/16",
                "InstanceTenancy": "default",
                "EnableDnsSupport": "true",
                "EnableDnsHostnames": "false",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc2-dev"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c1831615-e0ea-4e7e-adaa-ffb293fd5bb6"
                }
            }
        },
        "vpc0b40973e5aa01818f": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": "100.64.0.0/16",
                "InstanceTenancy": "default",
                "EnableDnsSupport": "true",
                "EnableDnsHostnames": "false",
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "env",
                        "Value": "ngfw"
                    },
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc-ngfw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3a281c01-3c93-4b98-80cf-602ca23d62b2"
                }
            }
        },
        "vpc032b5e2103dde4bf1": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": "10.10.0.0/16",
                "InstanceTenancy": "default",
                "EnableDnsSupport": "true",
                "EnableDnsHostnames": "false",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc1-dev"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "52be1b14-ceba-4e56-bd36-28bea6043be9"
                }
            }
        },
        "subnet0dbfd535838ca10a9": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "10.10.2.0/24",
                "AvailabilityZone": "ap-south-1b",
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc1-dev-sub-b"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3c180521-5b0f-4d1b-bb1a-96255d01f49a"
                }
            }
        },
        "subnet05fe05bcec1de4dea": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "10.11.1.0/24",
                "AvailabilityZone": "ap-south-1a",
                "VpcId": {
                    "Ref": "vpc08db5c728fa03a2b2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc2-dev-sub-a"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "720bfed6-f63c-403b-9471-4e0ae1ea008b"
                }
            }
        },
        "subnet05a2e7b1f3639cf55": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "100.64.0.0/24",
                "AvailabilityZone": "ap-south-1a",
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc-ngfw-sub-a"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ece6f4d3-51a3-49eb-b301-70e93f665d6f"
                }
            }
        },
        "subnet0e578fa1df290e955": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "10.11.2.0/24",
                "AvailabilityZone": "ap-south-1b",
                "VpcId": {
                    "Ref": "vpc08db5c728fa03a2b2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc2-dev-sub-b"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "fd52bec1-0330-49a3-a8a1-e070661e2a92"
                }
            }
        },
        "subnet07883d289e59e9022": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "100.64.1.0/24",
                "AvailabilityZone": "ap-south-1b",
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc-ngfw-sub-b"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "834b52fc-2e29-46e8-b096-46c8d3a35863"
                }
            }
        },
        "subnet00784e212340ef567": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "10.10.1.0/24",
                "AvailabilityZone": "ap-south-1a",
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc1-dev-sub-a"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9bf12b71-c7dc-4787-b870-f30c241a6b2a"
                }
            }
        },
        "igw07071171b4224f4b5": {
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "vpc-1-igw"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "4dd0281f-2421-4ef0-ba0d-283fba543df7"
                }
            }
        },
        "igw07c6801e226af5391": {
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "vpc-ngfw-igw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "594f869d-1b42-41e4-888a-87cbcc8f4fdd"
                }
            }
        },
        "rtb037a131d65acfdda7": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "route-to-tgw-vpc-1"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e175d739-a7fe-4cc5-9cde-8bee3e004e5d"
                }
            }
        },
        "rtb02920164a5604bd6e": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "Tags": [
                    {
                        "Key": "env",
                        "Value": "ngfw"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "vpc-ngfw-rtb"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "307c0cda-4fbb-4a87-b88b-6d8a31051f33"
                }
            }
        },
        "rtb053014896696b0622": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "vpc08db5c728fa03a2b2"
                },
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "route-to-tgw-vpc-2"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c5dd2945-71e8-4b29-9e99-cc3b7ef169b5"
                }
            }
        },
        "instancei0315f9a2149c22655": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "UserData": {
                    "Fn::Base64": {
                        "Ref": "UserData"
                    }
                },
                "DisableApiTermination": "false",
                "InstanceInitiatedShutdownBehavior": "stop",
                "ImageId": "ami-021207f5865d6b9a9",
                "InstanceType": "c5.xlarge",
                "KeyName": "ngfw-tgw-keypair",
                "Monitoring": "false",
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "NGFW-transit-gateway-1"
                    }
                ],
                "NetworkInterfaces": [
                    {
                        "DeviceIndex": 0,
                        "NetworkInterfaceId": {
                            "Ref": "EC2NI3CLWX"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "4273873e-ab9c-47f7-b734-b0cdd9268a97"
                }
            },
            "DependsOn": [
                "EC2NI3CLWX"
            ]
        },
        "instancei026bf72101fd25f4c": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "UserData": {
                    "Fn::Base64": {
                        "Ref": "UserData"
                    }
                },
                "DisableApiTermination": "false",
                "InstanceInitiatedShutdownBehavior": "stop",
                "ImageId": "ami-021207f5865d6b9a9",
                "InstanceType": "c5.xlarge",
                "KeyName": "ngfw-tgw-keypair",
                "Monitoring": "false",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "NGFW-transit-gateway-0"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ],
                "NetworkInterfaces": [
                    {
                        "DeviceIndex": 0,
                        "NetworkInterfaceId": {
                            "Ref": "EC2NI1QF98"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "853cf227-fd70-4ba2-814b-747780af6003"
                }
            },
            "DependsOn": [
                "EC2NI1QF98"
            ]
        },
        "instancei0c921a02b8e55a19a": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "DisableApiTermination": "false",
                "InstanceInitiatedShutdownBehavior": "stop",
                "ImageId": "ami-021207f5865d6b9a9",
                "InstanceType": "c5.large",
                "KeyName": "ngfw-tgw-keypair",
                "Monitoring": "false",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-instance1-dev"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    },
                    {
                        "Key": "vpc",
                        "Value": "1"
                    },
                    {
                        "Key": "az",
                        "Value": "ap-south-1b"
                    }
                ],
                "NetworkInterfaces": [
                    {
                        "DeleteOnTermination": "true",
                        "DeviceIndex": 0,
                        "SubnetId": {
                            "Ref": "subnet00784e212340ef567"
                        },
                        "PrivateIpAddresses": [
                            {
                                "PrivateIpAddress": "10.10.1.10",
                                "Primary": "true"
                            }
                        ],
                        "GroupSet": [
                            {
                                "Ref": "sgsecgroupvpc1sshicmp"
                            }
                        ],
                        "AssociatePublicIpAddress": "true"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1cddcd0f-2208-4182-bd95-84374625c00a"
                }
            }
        },
        "instancei050a503980aa643ae": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "DisableApiTermination": "false",
                "InstanceInitiatedShutdownBehavior": "stop",
                "ImageId": "ami-021207f5865d6b9a9",
                "InstanceType": "c5.large",
                "KeyName": "ngfw-tgw-keypair",
                "Monitoring": "false",
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "test-tgw-instance2-dev"
                    },
                    {
                        "Key": "az",
                        "Value": "ap-south-1a"
                    },
                    {
                        "Key": "vpc",
                        "Value": "2"
                    },
                    {
                        "Key": "env",
                        "Value": "dev"
                    }
                ],
                "NetworkInterfaces": [
                    {
                        "DeleteOnTermination": "true",
                        "DeviceIndex": 0,
                        "SubnetId": {
                            "Ref": "subnet05fe05bcec1de4dea"
                        },
                        "PrivateIpAddresses": [
                            {
                                "PrivateIpAddress": "10.11.1.10",
                                "Primary": "true"
                            }
                        ],
                        "GroupSet": [
                            {
                                "Ref": "sgsecgroupvpc2sshicmp"
                            }
                        ]
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3b29f2e6-0ad3-41a7-a16a-4d40c6016392"
                }
            }
        },
        "sgallowall": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "GroupDescription": "Allow all",
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "SecurityGroupIngress": [
                    {
                        "IpProtocol": "-1",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "SecurityGroupEgress": [
                    {
                        "IpProtocol": "-1",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-vpc-ngfw-security-group-allow-all"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d16a6c0a-e6ec-4c90-8997-dde94cbacdfb"
                }
            }
        },
        "sgsecgroupvpc2sshicmp": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "GroupDescription": "test-tgw: Allow SSH and ICMP traffic",
                "VpcId": {
                    "Ref": "vpc08db5c728fa03a2b2"
                },
                "SecurityGroupIngress": [
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 5001,
                        "ToPort": 5001,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "udp",
                        "FromPort": 5001,
                        "ToPort": 5001,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "icmp",
                        "FromPort": 8,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "icmp",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "SecurityGroupEgress": [
                    {
                        "IpProtocol": "-1",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "sec-group-vpc-2-ssh-icmp"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7336eec8-29df-4cdf-9e1e-ab1d1c16df00"
                }
            }
        },
        "sgsecgroupvpc1sshicmp": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "GroupDescription": "test-tgw: Allow SSH and ICMP traffic",
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "SecurityGroupIngress": [
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 5001,
                        "ToPort": 5001,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "udp",
                        "FromPort": 5001,
                        "ToPort": 5001,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "icmp",
                        "FromPort": 8,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    },
                    {
                        "IpProtocol": "icmp",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "SecurityGroupEgress": [
                    {
                        "IpProtocol": "-1",
                        "FromPort": 0,
                        "ToPort": 0,
                        "CidrIp": "0.0.0.0/0"
                    }
                ],
                "Tags": [
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "Name",
                        "Value": "sec-group-vpc-1-ssh-icmp"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3dbc4a82-0e54-4047-b2a7-535faf901a47"
                }
            }
        },
        "gw1": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "InternetGatewayId": {
                    "Ref": "igw07071171b4224f4b5"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3412d876-5852-47e1-8b22-6c183668aed9"
                }
            }
        },
        "gw2": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "InternetGatewayId": {
                    "Ref": "igw07c6801e226af5391"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0cc159b3-0d2c-470e-b6a6-ccc5a220d4e0"
                }
            }
        },
        "route1": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "100.64.0.0/16",
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "RouteTableId": {
                    "Ref": "rtb037a131d65acfdda7"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "b13f6974-312c-401f-b5c0-26292730101c"
                }
            },
            "DependsOn": [
                "EC2TGA22G8P"
            ]
        },
        "route2": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "10.0.0.0/8",
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "RouteTableId": {
                    "Ref": "rtb037a131d65acfdda7"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9447c257-e79b-46bf-a334-a11139b2bc6e"
                }
            },
            "DependsOn": [
                "EC2TGA22G8P"
            ]
        },
        "route3": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "0.0.0.0/0",
                "RouteTableId": {
                    "Ref": "rtb037a131d65acfdda7"
                },
                "GatewayId": {
                    "Ref": "igw07071171b4224f4b5"
                }
            },
            "DependsOn": "gw1",
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c50f9c9d-2861-4242-a5cd-2ccb4dc6aca7"
                }
            }
        },
        "route4": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "10.0.0.0/8",
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "RouteTableId": {
                    "Ref": "rtb02920164a5604bd6e"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0eb8054a-4e91-4839-9808-08b9e1b81194"
                }
            },
            "DependsOn": [
                "EC2TGA52Z3K"
            ]
        },
        "route7": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "0.0.0.0/0",
                "TransitGatewayId": {
                    "Ref": "EC2TG17DG5"
                },
                "RouteTableId": {
                    "Ref": "rtb053014896696b0622"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "418b4935-e886-40f4-b773-128098dd26f2"
                }
            },
            "DependsOn": [
                "EC2TGA1BBQA"
            ]
        },
        "ingress1": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgallowall"
                },
                "IpProtocol": "-1",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress2": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "icmp",
                "FromPort": "0",
                "ToPort": "0",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress3": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress4": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "udp",
                "FromPort": "5001",
                "ToPort": "5001",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress5": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "icmp",
                "FromPort": "8",
                "ToPort": "0",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress6": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "tcp",
                "FromPort": "5001",
                "ToPort": "5001",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress7": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "icmp",
                "FromPort": "0",
                "ToPort": "0",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress8": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress9": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "udp",
                "FromPort": "5001",
                "ToPort": "5001",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress10": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "icmp",
                "FromPort": "8",
                "ToPort": "0",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "ingress11": {
            "Type": "AWS::EC2::SecurityGroupIngress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "tcp",
                "FromPort": "5001",
                "ToPort": "5001",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "egress1": {
            "Type": "AWS::EC2::SecurityGroupEgress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgallowall"
                },
                "IpProtocol": "-1",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "egress2": {
            "Type": "AWS::EC2::SecurityGroupEgress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc2sshicmp"
                },
                "IpProtocol": "-1",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "egress3": {
            "Type": "AWS::EC2::SecurityGroupEgress",
            "Properties": {
                "GroupId": {
                    "Ref": "sgsecgroupvpc1sshicmp"
                },
                "IpProtocol": "-1",
                "CidrIp": "0.0.0.0/0"
            }
        },
        "EC2TG3SC28": {
            "Type": "AWS::EC2::TransitGateway",
            "Properties": {
                "Description": "Transit Gateway testing scenario with 4 VPCs, 2 subnets each",
                "DefaultRouteTableAssociation": "disable",
                "DefaultRouteTablePropagation": "disable",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0f4e59c1-565e-41d4-b2ff-2c030c4197c5"
                }
            }
        },
        "EC2TG17DG5": {
            "Type": "AWS::EC2::TransitGateway",
            "Properties": {
                "Description": "Transit Gateway in region B",
                "DefaultRouteTableAssociation": "disable",
                "DefaultRouteTablePropagation": "disable",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "test-tgw-regionB"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1e217227-c1e5-42b9-86cd-8d57922ec91b"
                }
            }
        },
        "EC2TGA22G8P": {
            "Type": "AWS::EC2::TransitGatewayAttachment",
            "Properties": {
                "SubnetIds": [
                    {
                        "Ref": "subnet00784e212340ef567"
                    },
                    {
                        "Ref": "subnet0dbfd535838ca10a9"
                    }
                ],
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "VpcId": {
                    "Ref": "vpc032b5e2103dde4bf1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "tgw-att-vpc1"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "873bd45d-087d-41ee-95a5-fae5183f179c"
                }
            },
            "DependsOn": [
                "vpc032b5e2103dde4bf1",
                "subnet00784e212340ef567",
                "subnet0dbfd535838ca10a9"
            ]
        },
        "EC2TGA1BBQA": {
            "Type": "AWS::EC2::TransitGatewayAttachment",
            "Properties": {
                "SubnetIds": [
                    {
                        "Ref": "subnet05fe05bcec1de4dea"
                    },
                    {
                        "Ref": "subnet0e578fa1df290e955"
                    }
                ],
                "TransitGatewayId": {
                    "Ref": "EC2TG17DG5"
                },
                "VpcId": {
                    "Ref": "vpc08db5c728fa03a2b2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "tgw-att-vpc2"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c76d0b19-053e-4de2-a6d6-ccf1e7a07741"
                }
            },
            "DependsOn": [
                "vpc08db5c728fa03a2b2",
                "subnet05fe05bcec1de4dea",
                "subnet0e578fa1df290e955"
            ]
        },
        "EC2TGRTD6ZD": {
            "Type": "AWS::EC2::TransitGatewayRouteTable",
            "Properties": {
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "tgw-protected-vpc-rt"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a20facd2-908d-4519-abc9-8b17d55cd5b6"
                }
            },
            "DependsOn": [
                "EC2TG3SC28"
            ]
        },
        "EC2TGRTU40P": {
            "Type": "AWS::EC2::TransitGatewayRouteTable",
            "Properties": {
                "TransitGatewayId": {
                    "Ref": "EC2TG17DG5"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "tgw-inline-vpc-rt"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3b960a6e-696b-465a-a750-fa97901480fb"
                }
            },
            "DependsOn": [
                "EC2TG17DG5"
            ]
        },
        "EC2TGRT3G0VZ": {
            "Type": "AWS::EC2::TransitGatewayRouteTableAssociation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA22G8P"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTD6ZD"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c67621a7-8d58-447a-89b6-3fa8286f3105"
                }
            }
        },
        "EC2TGRT47OG7": {
            "Type": "AWS::EC2::TransitGatewayRouteTableAssociation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA1BBQA"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTU40P"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "85cc5f1f-9f2f-4931-b499-213bd40f0306"
                }
            }
        },
        "EC2TGRT8PKV": {
            "Type": "AWS::EC2::TransitGatewayRouteTablePropagation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA22G8P"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTD6ZD"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e8de57ce-cf33-4598-a8a1-a11212b88902"
                }
            }
        },
        "EC2TGRT2P0KL": {
            "Type": "AWS::EC2::TransitGatewayRouteTablePropagation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA1BBQA"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTU40P"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ce6f7d62-ba51-4e35-990d-a5828ce08242"
                }
            }
        },
        "EC2TGA52Z3K": {
            "Type": "AWS::EC2::TransitGatewayAttachment",
            "Properties": {
                "SubnetIds": [
                    {
                        "Ref": "subnet05a2e7b1f3639cf55"
                    },
                    {
                        "Ref": "subnet07883d289e59e9022"
                    }
                ],
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "VpcId": {
                    "Ref": "vpc0b40973e5aa01818f"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "tgw-att-ngfw"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "164489cf-18bf-42b8-99af-69982958cbf9"
                }
            },
            "DependsOn": [
                "vpc0b40973e5aa01818f",
                "subnet05a2e7b1f3639cf55",
                "subnet07883d289e59e9022"
            ]
        },
        "EC2TGRT2J3GE": {
            "Type": "AWS::EC2::TransitGatewayRouteTableAssociation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA52Z3K"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTD6ZD"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f62b7971-0417-4e8b-903b-189f69d6e23b"
                }
            }
        },
        "EC2TGRT42RDJ": {
            "Type": "AWS::EC2::TransitGatewayRouteTablePropagation",
            "Properties": {
                "TransitGatewayAttachmentId": {
                    "Ref": "EC2TGA52Z3K"
                },
                "TransitGatewayRouteTableId": {
                    "Ref": "EC2TGRTD6ZD"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "997287ad-7711-4fd1-861e-c0c25afc43f1"
                }
            }
        },
        "EC2CG3RU4M": {
            "Type": "AWS::EC2::CustomerGateway",
            "Properties": {
                "Type": "ipsec.1",
                "BgpAsn": "65534",
                "IpAddress": {
                    "Fn::GetAtt": [
                        "instancei026bf72101fd25f4c",
                        "PublicIp"
                    ]
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "NGFW-vpn-gateway-0"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3e8d289d-0b18-41f3-a3ce-4a5cec41d82e"
                }
            },
            "DependsOn": [
                "instancei026bf72101fd25f4c"
            ]
        },
        "VPNConnection": {
            "Type": "AWS::EC2::VPNConnection",
            "Properties": {
                "Type": "ipsec.1",
                "StaticRoutesOnly": "false",
                "CustomerGatewayId": {
                    "Ref": "EC2CG3RU4M"
                },
                "TransitGatewayId": {
                    "Ref": "EC2TG3SC28"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "ngfw-transit-vpn-connection-0"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            }
        },
        "VPNConnectionone": {
            "Type": "AWS::EC2::VPNConnection",
            "Properties": {
                "Type": "ipsec.1",
                "StaticRoutesOnly": "false",
                "CustomerGatewayId": {
                    "Ref": "EC2CG1BLFT"
                },
                "TransitGatewayId": {
                    "Ref": "EC2TG17DG5"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "ngfw-transit-vpn-connection-1"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            }
        },
        "EC2CG1BLFT": {
            "Type": "AWS::EC2::CustomerGateway",
            "Properties": {
                "Type": "ipsec.1",
                "BgpAsn": "65534",
                "IpAddress": {
                    "Fn::GetAtt": [
                        "instancei0315f9a2149c22655",
                        "PublicIp"
                    ]
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "NGFW-vpn-gateway-1"
                    },
                    {
                        "Key": "scenario",
                        "Value": "test-tgw"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "690a4e3a-4a8e-424e-bbc0-ee71e0084ed7"
                }
            },
            "DependsOn": [
                "instancei0315f9a2149c22655"
            ]
        },
        "EC2NI1QF98": {
            "Type": "AWS::EC2::NetworkInterface",
            "Properties": {
                "PrivateIpAddresses": [
                    {
                        "PrivateIpAddress": "100.64.0.170",
                        "Primary": "true"
                    }
                ],
                "GroupSet": [
                    {
                        "Ref": "sgallowall"
                    }
                ],
                "SubnetId": {
                    "Ref": "subnet05a2e7b1f3639cf55"
                },
                "SourceDestCheck": "false"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3293052a-26ef-4a91-aa4f-cee3247e284a"
                }
            }
        },
        "AssociateInstance0": {
            "Type": "AWS::EC2::EIPAssociation",
            "Properties": {
                "AllocationId": {
                    "Fn::GetAtt": [
                        "EC2EIP15TLT",
                        "AllocationId"
                    ]
                },
                "NetworkInterfaceId": {
                    "Ref": "EC2NI1QF98"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "927fe5a4-3f06-43a5-8d31-d4fdfafc71e4"
                }
            }
        },
        "EC2EIP15TLT": {
            "Type": "AWS::EC2::EIP",
            "Properties": {
                "Domain": {
                    "Ref": "vpc0b40973e5aa01818f"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "666a9933-99bb-4adc-842e-9e64f8283934"
                }
            }
        },
        "EC2EIPODB4": {
            "Type": "AWS::EC2::EIP",
            "Properties": {
                "Domain": {
                    "Ref": "vpc0b40973e5aa01818f"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "2c2a2742-245c-45ce-ba71-0ba9fca388e7"
                }
            }
        },
        "EC2NI3CLWX": {
            "Type": "AWS::EC2::NetworkInterface",
            "Properties": {
                "PrivateIpAddresses": [
                    {
                        "PrivateIpAddress": "100.64.1.37",
                        "Primary": "true"
                    }
                ],
                "GroupSet": [
                    {
                        "Ref": "sgallowall"
                    }
                ],
                "SubnetId": {
                    "Ref": "subnet07883d289e59e9022"
                },
                "SourceDestCheck": "false"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0136a885-9963-4f68-9499-bda1d13929c0"
                }
            }
        },
        "EC2EIPARI00": {
            "Type": "AWS::EC2::EIPAssociation",
            "Properties": {
                "AllocationId": {
                    "Fn::GetAtt": [
                        "EC2EIPODB4",
                        "AllocationId"
                    ]
                },
                "NetworkInterfaceId": {
                    "Ref": "EC2NI3CLWX"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d90270ac-b0f6-479d-9121-63fcdde8d6b1"
                }
            }
        },
        "EC2R2KI6O": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "DestinationCidrBlock": "0.0.0.0/0",
                "RouteTableId": {
                    "Ref": "rtb02920164a5604bd6e"
                },
                "GatewayId": {
                    "Ref": "igw07c6801e226af5391"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7464db25-1c16-4e56-9d41-22105be12b94"
                }
            }
        },
        "EC2SRTA2ICA8": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rtb02920164a5604bd6e"
                },
                "SubnetId": {
                    "Ref": "subnet07883d289e59e9022"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "da1efa11-2053-4c41-8f59-ed20f302dd1c"
                }
            }
        },
        "EC2SRTA3YQ09": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet05a2e7b1f3639cf55"
                },
                "RouteTableId": {
                    "Ref": "rtb02920164a5604bd6e"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ea724200-79db-4c6c-b257-1867c1686afe"
                }
            }
        },
        "EC2SRTA3CVVQ": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet00784e212340ef567"
                },
                "RouteTableId": {
                    "Ref": "rtb037a131d65acfdda7"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "989363e6-eb2c-4655-854e-107ceccc96a5"
                }
            }
        },
        "EC2SRTA49BEQ": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rtb037a131d65acfdda7"
                },
                "SubnetId": {
                    "Ref": "subnet0dbfd535838ca10a9"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "14d057cc-75cc-4440-ada3-edaed72173e2"
                }
            }
        },
        "EC2SRTA4VLNB": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet05fe05bcec1de4dea"
                },
                "RouteTableId": {
                    "Ref": "rtb053014896696b0622"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3ddf1e6c-343d-4e62-84b4-832bcadc1191"
                }
            }
        },
        "EC2SRTA59KLH": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rtb053014896696b0622"
                },
                "SubnetId": {
                    "Ref": "subnet0e578fa1df290e955"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0c4abdc9-27c6-47af-9be1-1e5948e045d8"
                }
            }
        }
    },
    "Description": "NGFW transit gateway"}